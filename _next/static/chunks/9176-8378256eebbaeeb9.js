"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9176],{8285:(t,e,i)=>{i.d(e,{b:()=>l});class l{copy(){return new l(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}isOrigin(){return 0===this.x&&0===this.y}constructor(t=0,e=0){this.x=t,this.y=e}}},24373:(t,e,i)=>{i.d(e,{r:()=>n});var l=i(8285);class n{get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}get area(){return this.width*this.height}get topLeft(){return new(0,l.b)(this.x,this.y)}get topRight(){return new(0,l.b)(this.maxX,this.y)}get bottomLeft(){return new(0,l.b)(this.x,this.maxY)}get bottomRight(){return new(0,l.b)(this.maxX,this.maxY)}intersects(t){return this.area>0&&t.area>0&&this.x<=t.x+t.width&&t.x<=this.x+this.width&&this.y<=t.y+t.height&&t.y<=this.y+this.height}containsRect(t){return this.x<=t.x&&this.y<=t.y&&this.maxX>=t.maxX&&this.maxY>=t.maxY}containsPoint(t){return this.x<=t.x&&this.y<=t.y&&this.maxX>=t.x&&this.maxY>=t.y}getCornerInRect(t){for(let e of["topLeft","topRight","bottomLeft","bottomRight"])if(t.containsPoint(this[e]))return e;return null}equals(t){return t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}pointEquals(t){return this.x===t.x&&this.y===t.y}sizeEquals(t){return this.width===t.width&&this.height===t.height}union(t){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),l=Math.max(this.maxX,t.maxX)-e,s=Math.max(this.maxY,t.maxY)-i;return new n(e,i,l,s)}intersection(t){if(!this.intersects(t))return new n(0,0,0,0);let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y);return new n(e,i,Math.min(this.maxX,t.maxX)-e,Math.min(this.maxY,t.maxY)-i)}copy(){return new n(this.x,this.y,this.width,this.height)}constructor(t=0,e=0,i=0,l=0){this.x=t,this.y=e,this.width=i,this.height=l}}},29639:(t,e,i)=>{i.d(e,{$:()=>h});var l=i(28960);class n{shouldInvalidate(t,e){return t.width!==e.width||t.height!==e.height}shouldInvalidateLayoutOptions(t,e){return t!==e}update(t){}getItemRect(t){var e,i;return null!=(i=null==(e=this.getLayoutInfo(t))?void 0:e.rect)?i:null}getVisibleRect(){return this.virtualizer.visibleRect}constructor(){this.virtualizer=null}}var s=i(24373),o=i(56620);class r{copy(){let t=new r(this.type,this.key,this.rect.copy());return t.estimatedSize=this.estimatedSize,t.opacity=this.opacity,t.transform=this.transform,t.parentKey=this.parentKey,t.content=this.content,t.isSticky=this.isSticky,t.zIndex=this.zIndex,t.allowOverflow=this.allowOverflow,t}constructor(t,e,i){this.type=t,this.key=e,this.parentKey=null,this.content=null,this.rect=i,this.estimatedSize=!1,this.isSticky=!1,this.opacity=1,this.transform=null,this.zIndex=0,this.allowOverflow=!1}}class h extends n{get collection(){return this.virtualizer.collection}getLayoutInfo(t){var e;return this.ensureLayoutInfo(t),(null==(e=this.layoutNodes.get(t))?void 0:e.layoutInfo)||null}getVisibleLayoutInfos(t){if(t.height>1){var e,i;let l=(null!=(i=null!=(e=this.rowHeight)?e:this.estimatedRowHeight)?i:48)+this.gap;t.y=Math.floor(t.y/l)*l,t.height=Math.ceil(t.height/l)*l}this.layoutIfNeeded(t);let l=[],n=e=>{for(let i of e)this.isVisible(i,t)&&(l.push(i.layoutInfo),i.children&&n(i.children))};return n(this.rootNodes),l}layoutIfNeeded(t){if(this.lastCollection){for(let e of(this.requestedRect.containsRect(t)||(this.requestedRect=this.requestedRect.union(t),this.rootNodes=this.buildCollection()),this.virtualizer.persistedKeys))if(this.ensureLayoutInfo(e))return}}ensureLayoutInfo(t){return!this.layoutNodes.has(t)&&this.requestedRect.area<this.contentSize.area&&!!this.lastCollection&&(this.requestedRect=new(0,s.r)(0,0,1/0,1/0),this.rootNodes=this.buildCollection(),this.requestedRect=new(0,s.r)(0,0,this.contentSize.width,this.contentSize.height),!0)}isVisible(t,e){return t.layoutInfo.rect.intersects(e)||t.layoutInfo.isSticky||"header"===t.layoutInfo.type||"loader"===t.layoutInfo.type||this.virtualizer.isPersistedKey(t.layoutInfo.key)}shouldInvalidateEverything(t){var e,i,l,n,s;let o=t.layoutOptions;return t.sizeChanged||this.rowHeight!==(null!=(e=null==o?void 0:o.rowHeight)?e:this.rowHeight)||this.headingHeight!==(null!=(i=null==o?void 0:o.headingHeight)?i:this.headingHeight)||this.loaderHeight!==(null!=(l=null==o?void 0:o.loaderHeight)?l:this.loaderHeight)||this.gap!==(null!=(n=null==o?void 0:o.gap)?n:this.gap)||this.padding!==(null!=(s=null==o?void 0:o.padding)?s:this.padding)}shouldInvalidateLayoutOptions(t,e){return t.rowHeight!==e.rowHeight||t.estimatedRowHeight!==e.estimatedRowHeight||t.headingHeight!==e.headingHeight||t.estimatedHeadingHeight!==e.estimatedHeadingHeight||t.loaderHeight!==e.loaderHeight||t.dropIndicatorThickness!==e.dropIndicatorThickness||t.gap!==e.gap||t.padding!==e.padding}update(t){var e,i,l,n,s,o,r,h;let a=this.virtualizer.collection;this.invalidateEverything=this.shouldInvalidateEverything(t),this.invalidateEverything&&(this.requestedRect=this.virtualizer.visibleRect.copy(),this.layoutNodes.clear());let u=t.layoutOptions;if(this.rowHeight=null!=(e=null==u?void 0:u.rowHeight)?e:this.rowHeight,this.estimatedRowHeight=null!=(i=null==u?void 0:u.estimatedRowHeight)?i:this.estimatedRowHeight,this.headingHeight=null!=(l=null==u?void 0:u.headingHeight)?l:this.headingHeight,this.estimatedHeadingHeight=null!=(n=null==u?void 0:u.estimatedHeadingHeight)?n:this.estimatedHeadingHeight,this.loaderHeight=null!=(s=null==u?void 0:u.loaderHeight)?s:this.loaderHeight,this.dropIndicatorThickness=null!=(o=null==u?void 0:u.dropIndicatorThickness)?o:this.dropIndicatorThickness,this.gap=null!=(r=null==u?void 0:u.gap)?r:this.gap,this.padding=null!=(h=null==u?void 0:u.padding)?h:this.padding,this.rootNodes=this.buildCollection(),this.lastCollection&&a!==this.lastCollection)for(let t of this.lastCollection.getKeys())!a.getItem(t)&&this.layoutNodes.get(t)&&this.layoutNodes.delete(t);this.lastCollection=a,this.invalidateEverything=!1,this.validRect=this.requestedRect.copy()}buildCollection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.padding,e=this.virtualizer.collection,i=[...e],l=i.filter(t=>"loader"===t.type),n=[],s=(null==e?void 0:e.size)===0;for(let e of(s&&(t=0),i)){var r,h;let s=(null!=(h=null!=(r=this.rowHeight)?r:this.estimatedRowHeight)?h:48)+this.gap;if("item"===e.type&&t+s<this.requestedRect.y&&!this.isValid(e,t)){t+=s;continue}let o=this.buildChild(e,this.padding,t,null);if(t=o.layoutInfo.rect.maxY+this.gap,n.push(o),"loader"===e.type){let t=l.indexOf(e);l.splice(t,1)}if(("item"===e.type||"loader"===e.type)&&t>this.requestedRect.maxY){let o=i.indexOf(e);for(let e of l){let l=i.indexOf(e);t+=(l-o-1)*s;let r=this.buildChild(e,this.padding,t,null);n.push(r),t=r.layoutInfo.rect.maxY,o=l}t+=(i.length-o-1)*s;break}}return t-=this.gap,t+=s?0:this.padding,this.contentSize=new(0,o.o)(this.virtualizer.visibleRect.width,t),n}isValid(t,e){let i=this.layoutNodes.get(t.key);return!this.invalidateEverything&&!!i&&i.node===t&&e===i.layoutInfo.rect.y&&i.layoutInfo.rect.intersects(this.validRect)&&i.validRect.containsRect(i.layoutInfo.rect.intersection(this.requestedRect))}buildChild(t,e,i,l){if(this.isValid(t,i))return this.layoutNodes.get(t.key);let n=this.buildNode(t,e,i);return n.layoutInfo.parentKey=null!=l?l:null,n.layoutInfo.allowOverflow=!0,this.layoutNodes.set(t.key,n),n}buildNode(t,e,i){switch(t.type){case"section":return this.buildSection(t,e,i);case"item":case"separator":return this.buildItem(t,e,i);case"header":return this.buildSectionHeader(t,e,i);case"loader":return this.buildLoader(t,e,i);default:throw Error("Unsupported node type: "+t.type)}}buildLoader(t,e,i){var l,n,o;let h=new(0,s.r)(e,i,this.padding,0),a=new r("loader",t.key,h);return h.width=this.virtualizer.contentSize.width-this.padding-e,h.height=t.props.isLoading?null!=(o=null!=(n=null!=(l=this.loaderHeight)?l:this.rowHeight)?n:this.estimatedRowHeight)?o:48:0,{layoutInfo:a,validRect:h.intersection(this.requestedRect)}}buildSection(t,e,i){let n=this.virtualizer.collection,o=this.virtualizer.visibleRect.width-this.padding,h=new(0,s.r)(e,i,o-e,0),a=new r(t.type,t.key,h),u=i,d=0,c=[];for(let s of(0,l.iQ)(t,n)){var y,g;let o=(null!=(g=null!=(y=this.rowHeight)?y:this.estimatedRowHeight)?g:48)+this.gap;if(i+o<this.requestedRect.y&&!this.isValid(t,i)){i+=o,d++;continue}let r=this.buildChild(s,e,i,a.key);if(i=r.layoutInfo.rect.maxY+this.gap,c.push(r),i>this.requestedRect.maxY){i+=([...(0,l.iQ)(t,n)].length-(c.length+d))*o;break}}return h.height=(i-=this.gap)-u,{layoutInfo:a,children:c,validRect:a.rect.intersection(this.requestedRect),node:t}}buildSectionHeader(t,e,i){let l=this.virtualizer.visibleRect.width-this.padding,n=this.headingHeight,o=!1;if(null==n){let e=this.layoutNodes.get(t.key),i=null==e?void 0:e.layoutInfo;if(i){let e=this.virtualizer.collection.getItem(t.key),s=this.lastCollection?this.lastCollection.getItem(t.key):null;n=i.rect.height,o=l!==i.rect.width||e!==s||i.estimatedSize}else n=t.rendered?this.estimatedHeadingHeight:0,o=!0}null==n&&(n=48);let h=new(0,s.r)(e,i,l-e,n),a=new r("header",t.key,h);return a.estimatedSize=o,{layoutInfo:a,children:[],validRect:a.rect.intersection(this.requestedRect),node:t}}buildItem(t,e,i){let l=this.virtualizer.visibleRect.width-this.padding-e,n=this.rowHeight,o=!1;if(null==n){let e=this.layoutNodes.get(t.key);e?(n=e.layoutInfo.rect.height,o=l!==e.layoutInfo.rect.width||t!==e.node||e.layoutInfo.estimatedSize):(n=this.estimatedRowHeight,o=!0)}null==n&&(n=48);let h=new(0,s.r)(e,i,l,n),a=new r(t.type,t.key,h);return a.estimatedSize=o,{layoutInfo:a,children:[],validRect:a.rect,node:t}}updateItemSize(t,e){let i=this.layoutNodes.get(t);if(!i)return!1;let l=this.virtualizer.collection,n=i.layoutInfo;if(n.estimatedSize=!1,n.rect.height!==e.height){let s=n.copy();s.rect.height=e.height,i.layoutInfo=s,this.validRect.height=Math.min(this.validRect.height,n.rect.y-this.validRect.y),this.requestedRect.height+=s.rect.height-n.rect.height,this.updateLayoutNode(t,n,s);let o=null!=n.parentKey?l.getItem(n.parentKey):null;for(;o;)this.updateLayoutNode(o.key,n,s),o=null!=o.parentKey?l.getItem(o.parentKey):null;return!0}return!1}updateLayoutNode(t,e,i){let l=this.layoutNodes.get(t);l&&(l.validRect=l.validRect.intersection(this.validRect),l.layoutInfo===e&&(l.layoutInfo=i))}getContentSize(){return this.contentSize}getDropTargetFromPoint(t,e,i){t+=this.virtualizer.visibleRect.x,e+=this.virtualizer.visibleRect.y;let l=new(0,s.r)(t,Math.max(0,e-this.gap),1,Math.max(1,2*this.gap)),n=this.getVisibleLayoutInfos(l),o=null,r=1/0;for(let t of n){if(!t.rect.intersects(l))continue;let i=Math.min(Math.abs(t.rect.y-e),Math.abs(t.rect.maxY-e));i<r&&(r=i,o=t.key)}if(null==o||0===this.virtualizer.collection.size)return{type:"root"};let h=this.getLayoutInfo(o);if(!h)return null;let a=h.rect,u={type:"item",key:h.key,dropPosition:"on"};return i(u)?e<=a.y+10&&i({...u,dropPosition:"before"})?u.dropPosition="before":e>=a.maxY-10&&i({...u,dropPosition:"after"})&&(u.dropPosition="after"):e<=a.y+a.height/2&&i({...u,dropPosition:"before"})?u.dropPosition="before":i({...u,dropPosition:"after"})&&(u.dropPosition="after"),u}getDropTargetLayoutInfo(t){let e,i=this.getLayoutInfo(t.key);if("before"===t.dropPosition)e=new(0,s.r)(i.rect.x,Math.max(0,i.rect.y-this.dropIndicatorThickness/2),i.rect.width,this.dropIndicatorThickness);else if("after"===t.dropPosition){let n=this.collection.getItem(t.key);if(n){var l;let e=null!=(l=n.level)?l:0,s=this.collection.getKeyAfter(t.key);for(;null!=s;){let t=this.collection.getItem(s);if(!t||t.level<=e)break;i=this.getLayoutInfo(s)||i,s=this.collection.getKeyAfter(s)}}e=new(0,s.r)(i.rect.x,i.rect.maxY-this.dropIndicatorThickness/2,i.rect.width,this.dropIndicatorThickness)}else e=i.rect;return new r("dropIndicator",t.key+":"+t.dropPosition,e)}constructor(t={}){var e,i,l,n,r;super(),this.rowHeight=null!=(e=t.rowHeight)?e:null,this.estimatedRowHeight=null!=(i=t.estimatedRowHeight)?i:null,this.headingHeight=null!=(l=t.headingHeight)?l:null,this.estimatedHeadingHeight=null!=(n=t.estimatedHeadingHeight)?n:null,this.loaderHeight=null!=(r=t.loaderHeight)?r:null,this.dropIndicatorThickness=t.dropIndicatorThickness||2,this.gap=t.gap||0,this.padding=t.padding||0,this.layoutNodes=new Map,this.rootNodes=[],this.lastCollection=null,this.invalidateEverything=!1,this.validRect=new(0,s.r),this.requestedRect=new(0,s.r),this.contentSize=new(0,o.o)}}},56620:(t,e,i)=>{i.d(e,{o:()=>l});class l{copy(){return new l(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}get area(){return this.width*this.height}constructor(t=0,e=0){this.width=Math.max(t,0),this.height=Math.max(e,0)}}},95210:(t,e,i)=>{i.d(e,{Y:()=>C});var l=i(33573),n=i(24373);let s=0;class o{prepareForReuse(){this.content=null,this.rendered=null,this.layoutInfo=null}getReusableView(t){let e=this.reusableViews.get(t);return e&&e.length>0?e.shift():new h(this.virtualizer,this,t)}reuseChild(t){t.prepareForReuse();let e=this.reusableViews.get(t.viewType);e||(e=[],this.reusableViews.set(t.viewType,e)),e.push(t)}constructor(t,e){this.virtualizer=t,this.key=++s,this.viewType=e,this.children=new Set,this.reusableViews=new Map,this.layoutInfo=null,this.content=null,this.rendered=null}}class r extends o{constructor(t){super(t,"root")}}class h extends o{constructor(t,e,i){super(t,i),this.parent=e}}var a=i(8285);class u{setVisibleRect(t){let e=performance.now()-this.startTime;e<500&&(t.x!==this.visibleRect.x&&e>0&&(this.velocity.x=(t.x-this.visibleRect.x)/e),t.y!==this.visibleRect.y&&e>0&&(this.velocity.y=(t.y-this.visibleRect.y)/e)),this.startTime=performance.now(),this.visibleRect=t}getOverscannedRect(){let t=this.visibleRect.copy(),e=this.visibleRect.height/3;if(t.height+=e,this.velocity.y<0&&(t.y-=e),0!==this.velocity.x){let e=this.visibleRect.width/3;t.width+=e,this.velocity.x<0&&(t.x-=e)}return t}constructor(){this.startTime=0,this.velocity=new(0,a.b)(0,0),this.visibleRect=new(0,n.r)}}var d=i(56620);class c{isPersistedKey(t){if(this.persistedKeys.has(t))return!0;for(let e of this.persistedKeys)for(;null!=e;){let i=this.layout.getLayoutInfo(e);if(!i||null==i.parentKey)break;if((e=i.parentKey)===t)return!0}return!1}getParentView(t){return null!=t.parentKey?this._visibleViews.get(t.parentKey):this._rootView}getReusableView(t){let e=this.getParentView(t).getReusableView(t.type);return e.layoutInfo=t,this._renderView(e),e}_renderView(t){if(t.layoutInfo){let{type:e,key:i,content:l}=t.layoutInfo;t.content=l||this.collection.getItem(i),t.rendered=this._renderContent(e,t.content)}}_renderContent(t,e){let i=null!=e?this._renderedContent.get(e):null;if(null!=i)return i;let l=this.delegate.renderView(t,e);return e&&this._renderedContent.set(e,l),l}keyAtPoint(t){let e=new(0,n.r)(t.x,t.y,1,1);for(let t of 0===e.area?[]:this.layout.getVisibleLayoutInfos(e))if(t.rect.intersects(e))return t.key;return null}relayout(t={}){this.layout.update(t),this.contentSize=this.layout.getContentSize();let e=this.visibleRect,i=t.contentChanged?0:e.x,l=t.contentChanged?0:e.y;if(i=Math.max(0,Math.min(this.contentSize.width-e.width,i)),l=Math.max(0,Math.min(this.contentSize.height-e.height,l)),i!==e.x||l!==e.y){let t=new(0,n.r)(i,l,e.width,e.height);this.delegate.setVisibleRect(t)}else this.updateSubviews()}getVisibleLayoutInfos(){let t;t=this._overscanManager.getOverscannedRect();let e=this.layout.getVisibleLayoutInfos(t),i=new Map;for(let t of e)i.set(t.key,t);return i}updateSubviews(){let t=this.getVisibleLayoutInfos(),e=new Set;for(let[i,l]of this._visibleViews){let n=t.get(i);n&&l.parent===this.getParentView(n)||(this._visibleViews.delete(i),l.parent.reuseChild(l),e.add(l))}for(let[i,l]of t){let t=this._visibleViews.get(i);if(t){t.layoutInfo=l;let e=this.collection.getItem(l.key);t.content!==e&&(null!=t.content&&this._renderedContent.delete(t.content),this._renderView(t))}else(t=this.getReusableView(l)).parent.children.add(t),this._visibleViews.set(i,t),e.delete(t)}for(let t of e)t.parent.children.delete(t),t.parent.reusableViews.clear();if(!this._isScrolling)for(let e of t.keys()){let t=this._visibleViews.get(e);t.parent.children.delete(t),t.parent.children.add(t)}}render(t){let e=!1,i=!1,l=!1,n=!1,s=!1,o=!1;return t.collection!==this.collection&&(this.collection=t.collection,e=!0),(t.layout!==this.layout||this.layout.virtualizer!==this)&&(this.layout&&(this.layout.virtualizer=null),t.layout.virtualizer=this,this.layout=t.layout,e=!0),t.persistedKeys&&!function(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0}(t.persistedKeys,this.persistedKeys)&&(this.persistedKeys=t.persistedKeys,o=!0),this.visibleRect.equals(t.visibleRect)||(this._overscanManager.setVisibleRect(t.visibleRect),this.layout.shouldInvalidate(t.visibleRect,this.visibleRect)?(i=!t.visibleRect.pointEquals(this.visibleRect),l=!t.visibleRect.sizeEquals(this.visibleRect),e=!0):o=!0,this.visibleRect=t.visibleRect),t.invalidationContext!==this._invalidationContext&&(t.invalidationContext&&(l||(l=t.invalidationContext.sizeChanged||!1),i||(i=t.invalidationContext.offsetChanged||!1),n||(n=t.invalidationContext.itemSizeChanged||!1),s||(s=null!=t.invalidationContext.layoutOptions&&null!=this._invalidationContext.layoutOptions&&t.invalidationContext.layoutOptions!==this._invalidationContext.layoutOptions&&this.layout.shouldInvalidateLayoutOptions(t.invalidationContext.layoutOptions,this._invalidationContext.layoutOptions)),e||(e=n||l||i||s)),this._invalidationContext=t.invalidationContext),t.isScrolling!==this._isScrolling&&(this._isScrolling=t.isScrolling,t.isScrolling||(o=!0)),e?this.relayout({offsetChanged:i,sizeChanged:l,itemSizeChanged:n,layoutOptionsChanged:s,layoutOptions:this._invalidationContext.layoutOptions}):o&&this.updateSubviews(),Array.from(this._rootView.children)}getVisibleView(t){return this._visibleViews.get(t)}invalidate(t){this.delegate.invalidate(t)}updateItemSize(t,e){this.layout.updateItemSize&&this.layout.updateItemSize(t,e)&&this.invalidate({itemSizeChanged:!0})}constructor(t){this.delegate=t.delegate,this.collection=t.collection,this.layout=t.layout,this.contentSize=new(0,d.o),this.visibleRect=new(0,n.r),this.persistedKeys=new Set,this._visibleViews=new Map,this._renderedContent=new WeakMap,this._rootView=new r(this),this._isScrolling=!1,this._invalidationContext={},this._overscanManager=new u}}var y=i(12115);let g="undefined"!=typeof document?y.useLayoutEffect:()=>{},p=null;var v=i(47650),f=i(89827),w=i(91690),m=i(68938),b=i(39501),x=i(47426);function R(t){let{style:e,className:i,layoutInfo:l,virtualizer:n,parent:s,children:o}=t,{direction:r}=(0,x.Y)(),h=(0,y.useRef)(null);return!function(t){let{layoutInfo:e,virtualizer:i,ref:l}=t,n=null==e?void 0:e.key,s=(0,y.useCallback)(()=>{if(null!=n&&l.current){var t;let e,s,o=(e=(t=l.current).style.height,t.style.height="",s=new(0,d.o)(t.scrollWidth,t.scrollHeight),t.style.height=e,s);i.updateItemSize(n,o)}},[i,n,l]);(0,m.N)(()=>{(null==e?void 0:e.estimatedSize)&&s()})}({layoutInfo:l,virtualizer:n,ref:h}),y.createElement("div",{role:"presentation",ref:h,className:i,style:{...function(t,e,i){var l;let n="rtl"===e?"right":"left",s=I.get(t);if(s&&null!=s[n]){if(!i)return s;let e=t.rect.y-i.rect.y,l=t.rect.x-i.rect.x;if(s.top===e&&s[n]===l)return s}let o={top:t.rect.y-(i&&!(i.allowOverflow&&t.isSticky)?i.rect.y:0),[n]:t.rect.x-(i&&!(i.allowOverflow&&t.isSticky)?i.rect.x:0),width:t.rect.width,height:t.rect.height};Object.entries(o).forEach(([t,e])=>{Number.isFinite(e)||(o[t]=void 0)});let r={position:t.isSticky?"sticky":"absolute",display:t.isSticky?"inline-block":void 0,overflow:t.allowOverflow?"visible":"hidden",opacity:t.opacity,zIndex:t.zIndex,transform:null!=(l=t.transform)?l:void 0,contain:"size layout style",...o};return I.set(t,r),r}(l,r,s),...e}},o)}let I=new WeakMap,S=(0,y.createContext)(null),z=(0,y.createContext)(null);function C(t){let{children:e,layout:i,layoutOptions:n}=t,s=(0,y.useMemo)(()=>"function"==typeof i?new i:i,[i]),o=(0,y.useMemo)(()=>({isVirtualized:!0,layoutDelegate:s,dropTargetDelegate:s.getDropTargetFromPoint?s:void 0,CollectionRoot:k,CollectionBranch:H}),[s]);return y.createElement(l.zL.Provider,{value:o},y.createElement(z.Provider,{value:{layout:s,layoutOptions:n}},e))}function k({collection:t,persistedKeys:e,scrollRef:i,renderDropIndicator:l}){var s;let{layout:o,layoutOptions:r}=(0,y.useContext)(z),h=null==(s=o.useLayoutOptions)?void 0:s.call(o),a=function(t){let[e,i]=(0,y.useState)(new(0,n.r)(0,0,0,0)),[l,s]=(0,y.useState)(!1),[o,r]=(0,y.useState)({}),h=(0,y.useRef)(!1),[a]=(0,y.useState)(()=>new c({collection:t.collection,layout:t.layout,delegate:{setVisibleRect(t){i(t),h.current=!0},renderView:t.renderView,invalidate:r}}));g(()=>{h.current&&(h.current=!1,t.onVisibleRectChange(e))});let u=(0,y.useMemo)(()=>null!=t.layoutOptions?{...o,layoutOptions:t.layoutOptions}:o,[o,t.layoutOptions]),d=a.render({layout:t.layout,collection:t.collection,persistedKeys:t.persistedKeys,layoutOptions:t.layoutOptions,visibleRect:e,invalidationContext:u,isScrolling:l}),p=a.contentSize,v=(0,y.useCallback)(()=>{s(!0)},[]),f=(0,y.useCallback)(()=>{s(!1)},[]);return(0,y.useMemo)(()=>({virtualizer:a,visibleViews:d,setVisibleRect:i,contentSize:p,isScrolling:l,startScrolling:v,endScrolling:f}),[a,d,i,p,l,v,f])}({layout:o,collection:t,renderView:(t,e)=>{var i;return null==e||null==(i=e.render)?void 0:i.call(e,e)},onVisibleRectChange(t){let e=null==i?void 0:i.current;e&&(e.scrollLeft=t.x,e.scrollTop=t.y)},persistedKeys:e,layoutOptions:(0,y.useMemo)(()=>r&&h?{...r,...h}:r||h,[r,h])}),{contentProps:u}=function(t,e){let{contentSize:i,onVisibleRectChange:l,innerStyle:s,onScrollStart:o,onScrollEnd:r,scrollDirection:h="both",...a}=t,u=(0,y.useRef)({scrollTop:0,scrollLeft:0,scrollEndTime:0,scrollTimeout:null,width:0,height:0,isScrolling:!1}).current,{direction:d}=(0,x.Y)(),[c,g]=(0,y.useState)(!1),R=(0,y.useCallback)(e=>{e.target===e.currentTarget&&(t.onScroll&&t.onScroll(e),(0,v.flushSync)(()=>{let t=e.currentTarget.scrollTop,s=function(t,e){let{scrollLeft:i}=t;if("rtl"===e){let{scrollWidth:e,clientWidth:l}=t;switch(function(t=!1){if(null===p||t){let t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";let i=document.createElement("div"),l=i.style;l.width="100px",l.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?p="positive-descending":(t.scrollLeft=1,p=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t)}return p}()){case"negative":i=-i;break;case"positive-descending":i=e-l-i}}return i}(e.currentTarget,d);u.scrollTop=Math.max(0,Math.min(t,i.height-u.height)),u.scrollLeft=Math.max(0,Math.min(s,i.width-u.width)),l(new(0,n.r)(u.scrollLeft,u.scrollTop,u.width,u.height)),!u.isScrolling&&(u.isScrolling=!0,g(!0),window.dispatchEvent(new Event("tk.disconnect-observer")),o&&o());let h=Date.now();u.scrollEndTime<=h+50&&(u.scrollEndTime=h+300,null!=u.scrollTimeout&&clearTimeout(u.scrollTimeout),u.scrollTimeout=setTimeout(()=>{u.isScrolling=!1,g(!1),u.scrollTimeout=null,window.dispatchEvent(new Event("tk.connect-observer")),r&&r()},300))}))},[t,d,u,i,l,o,r]);(0,f._)(e,"scroll",R),(0,y.useEffect)(()=>()=>{null!=u.scrollTimeout&&clearTimeout(u.scrollTimeout),u.isScrolling&&window.dispatchEvent(new Event("tk.connect-observer"))},[]);let I=(0,y.useRef)(!1),S=(0,y.useCallback)(t=>{let i=e.current;if(!i||I.current)return;I.current=!0,Object.getOwnPropertyNames(window.HTMLElement.prototype).includes("clientWidth"),Object.getOwnPropertyNames(window.HTMLElement.prototype).includes("clientHeight");let s=i.clientWidth,o=i.clientHeight;(u.width!==s||u.height!==o)&&(u.width=s,u.height=o,t(()=>{l(new(0,n.r)(u.scrollLeft,u.scrollTop,s,o))}),(s!==i.clientWidth||o!==i.clientHeight)&&(u.width=i.clientWidth,u.height=i.clientHeight,t(()=>{l(new(0,n.r)(u.scrollLeft,u.scrollTop,u.width,u.height))}))),I.current=!1},[e,u,l]),z=(0,w.J)(S),C=(0,y.useRef)(null),[k,H]=(0,y.useState)({});(0,m.N)(()=>{if(!I.current&&(null==C.current||!i.equals(C.current)))if("boolean"==typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:"undefined"!=typeof jest){H({}),C.current=i;return}else queueMicrotask(()=>z(v.flushSync));C.current=i}),(0,m.N)(()=>{z(t=>t())},[k]);let V=(0,y.useCallback)(()=>{S(v.flushSync)},[S]);(0,b.w)({ref:e,box:"border-box",onResize:V});let T={padding:0,...a.style};return"horizontal"===h?(T.overflowX="auto",T.overflowY="hidden"):"vertical"===h||i.width===u.width?(T.overflowY="auto",T.overflowX="hidden"):T.overflow="auto",s={width:Number.isFinite(i.width)?i.width:void 0,height:Number.isFinite(i.height)?i.height:void 0,pointerEvents:c?"none":"auto",position:"relative",...s},{isScrolling:c,scrollViewProps:{...a,style:T},contentProps:{role:"presentation",style:s}}}({onVisibleRectChange:a.setVisibleRect,contentSize:a.contentSize,onScrollStart:a.startScrolling,onScrollEnd:a.endScrolling},i);return y.createElement("div",u,y.createElement(S.Provider,{value:a},V(null,a.visibleViews,l)))}function H({parent:t,renderDropIndicator:e}){let i=(0,y.useContext)(S).virtualizer.getVisibleView(t.key);return V(i,Array.from(i.children),e)}function V(t,e,i){return e.map(e=>(function(t,e,i){let n=y.createElement(R,{key:e.key,layoutInfo:e.layoutInfo,virtualizer:e.virtualizer,parent:null==t?void 0:t.layoutInfo},e.rendered),{collection:s,layout:o}=e.virtualizer,r=e.content;return(null==r?void 0:r.type)==="item"&&i&&o.getDropTargetLayoutInfo&&(n=y.createElement(y.Fragment,{key:e.key},T(t,e,{type:"item",key:e.content.key,dropPosition:"before"},i),n,(0,l.Cv)(s,r,l=>T(t,e,l,i)))),n})(t,e,i))}function T(t,e,i,l){let n=l(i);if(n){let l=e.virtualizer.layout.getDropTargetLayoutInfo(i);n=y.createElement(R,{layoutInfo:l,virtualizer:e.virtualizer,parent:null==t?void 0:t.layoutInfo},n)}return n}}}]);